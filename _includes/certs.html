<section id="certifications" class="section certs" aria-labelledby="certs-title">
  <header class="certs-head">
    <h2 id="certs-title" class="h2">Certifications</h2>
    <p class="muted">Gage de qualité et d’engagement continu.</p>
  </header>

  {% assign all = site.data.certifications %}
  {% assign certified = all | where: "status", "certified" %}
  {% assign pending   = all | where: "status", "pending" %}
  {% assign ordered   = certified | concat: pending %}

  <!-- Slider -->
  <div class="certs-viewport" data-slider>
    <ul class="certs-track" aria-live="polite">
      {% for c in ordered %}
        {% include cert-item.html item=c i=forloop.index0 %}
      {% endfor %}
    </ul>

    <!-- Points -->
    <div class="certs-dots" role="tablist" aria-label="Choisir une certification">
      {% for c in ordered %}
        <button
          class="dot{% if forloop.first %} is-active{% endif %}"
          role="tab"
          aria-controls="cert-slide-{{ forloop.index0 }}"
          aria-selected="{% if forloop.first %}true{% else %}false{% endif %}"
          data-slide="{{ forloop.index0 }}">
        </button>
      {% endfor %}
    </div>
  </div>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {% for c in ordered %}
      {
        "@type": "EducationalOccupationalCredential",
        "name": {{ c.title | jsonify }},
        "recognizedBy": { "@type": "Organization", "name": {{ c.issuer | jsonify }} },
        "credentialCategory": "Professional certification"{% if c.date %},
        "validFrom": "{{ c.date | date: "%Y-%m-%d" }}"{% endif %}{% if c.badge_url %},
        "image": "{{ c.badge_url }}"{% endif %}
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
  }
  </script>
</section>
