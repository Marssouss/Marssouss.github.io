<section id="certifications" class="section certs" aria-labelledby="certs-title">
  <header class="certs-head">
    <h2 id="certs-title" class="h2">Certifications</h2>
    <p class="muted">Gage de qualité et d’engagement continu.</p>
  </header>

  {% assign all = site.data.certifications %}
  {% assign certified = all | where: "status", "certified" %}
  {% assign pending   = all | where: "status", "pending" %}
  {% assign ordered   = certified | concat: pending %}

  <!-- Rail simple (scroll-snap) -->
  <div class="certs-viewport">
    <ul class="certs-rail" aria-label="Liste des certifications">
      {% for c in ordered %}
        {% include cert-item.html item=c %}
      {% endfor %}
    </ul>
  </div>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {% for c in ordered %}
      {
        "@type": "EducationalOccupationalCredential",
        "name": {{ c.title | jsonify }},
        "recognizedBy": { "@type": "Organization", "name": {{ c.issuer | jsonify }} },
        "credentialCategory": "Professional certification"{% if c.date %},
        "validFrom": "{{ c.date | date: "%Y-%m-%d" }}"{% endif %}{% if c.badge_url %},
        "image": "{{ c.badge_url }}"{% endif %}
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
  }
  </script>
</section>
