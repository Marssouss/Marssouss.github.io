{% assign c = include.item %}

{%- comment -%}
 Localisation FR des mois (sans plugin) :
{%- endcomment -%}
{% assign mois_fr = "janvier,février,mars,avril,mai,juin,juillet,août,septembre,octobre,novembre,décembre" | split: "," %}
{% if c.date %}
  {% assign m_idx = c.date | date: "%-m" | minus: 1 %}
  {% assign mois_c = mois_fr[m_idx] %}
{% endif %}
{% if c.planned_date %}
  {% assign pm_idx = c.planned_date | date: "%-m" | minus: 1 %}
  {% assign mois_p = mois_fr[pm_idx] %}
{% endif %}

<li id="cert-{{ include.i }}" class="cert-card">
  <div class="cert-media">
    <img class="cert-logo" src="{{ c.logo | default: '/assets/img/cert-placeholder.svg' }}" alt="Logo {{ c.provider | default: c.title }}">
  </div>

  <div class="cert-body">
    <h3 class="cert-title">
      {{ c.title }}
    </h3>

    <div class="cert-meta">
      {% if c.status == 'pending' %}
        <span class="badge badge-pending">En cours</span>
        {% if c.planned_date %}
          <span class="cert-date">• prévu : {{ mois_p }} {{ c.planned_date | date: "%Y" }}</span>
        {% endif %}
      {% else %}
        <span class="badge badge-valid">Certifié</span>
        {% if c.date %}
          <span class="cert-date">• {{ mois_c }} {{ c.date | date: "%Y" }}</span>
        {% endif %}
      {% endif %}
    </div>

    {% if c.tags and c.tags.size > 0 %}
      <ul class="cert-tags">
        {% for t in c.tags %}
          <li class="tag">{{ t }}</li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if c.verify_url %}
      <div class="cert-actions">
        <a class="verify-link" href="{{ c.verify_url }}" target="_blank" rel="noreferrer">Vérifier</a>
      </div>
    {% endif %}
  </div>
</li>
