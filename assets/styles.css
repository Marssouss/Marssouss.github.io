/* ===========================================================================
   ABM — CSS unifié (premium, moderne, 100% responsive)
   Structure :
   1) Design tokens (dark + light + fluid type)
   2) Base & utilitaires (grid, helpers)
   3) Header / Navigation (verre dépoli, toggle thème)
   4) Composants (cards, buttons, chips, pills)
   5) Sections (Hero, Méthodes, Certifications, About)
   6) Contact (v2, Calendly inline + popup, loader, liste contacts)
   7) Footer & Modal
   8) Motion & A11y
   9) Breakpoints (ultra-large & micro)
   =========================================================================== */

/* ========================= 1) Design tokens ========================= */
:root{
  /* --- Palette DARK (contraste maîtrisé) --- */
  --bg:#070b18;
  --fg:#e8ebf3;
  --muted:#a3adc2;
  --brand:#5865f2;        /* indigo premium */
  --brand-2:#22c55e;      /* vert premium */
  --card:#0e1428;
  --border:#1a2540;
  --shadow-1:0 14px 40px rgba(2,6,23,.50);

  /* --- Rythme & formes --- */
  --space-1:.56rem; --space-2:.8rem; --space-3:1.1rem; --space-4:1.6rem; --space-5:2.2rem;
  --radius-1:.7rem; --radius-2:1rem; --radius-3:1.25rem;

  /* --- Conteneurs --- */
  --container:min(1280px,92vw);
  --container-tight:min(1080px,92vw);

  /* --- Typo fluide --- */
  --step--1: clamp(.86rem, .83rem + .2vw, .92rem);
  --step-0:  clamp(1rem , .96rem + .4vw, 1.1rem);
  --step-1:  clamp(1.15rem, 1.08rem + .6vw, 1.35rem);
  --step-2:  clamp(1.4rem, 1.25rem + 1vw, 1.8rem);
  --step-3:  clamp(1.8rem, 1.5rem + 1.6vw, 2.4rem);
  --step-4:  clamp(2.2rem, 1.9rem + 2.2vw, 3rem);

  /* --- Pills (solides) --- */
  --pill-talend:   color-mix(in oklab, var(--brand)   82%, var(--bg) 18%);
  --pill-powerbi:  color-mix(in oklab, var(--brand-2) 78%, var(--bg) 22%);
  --pill-fg:#fff;
  --pill-border-talend:  color-mix(in oklab, var(--brand)   55%, var(--border));
  --pill-border-powerbi: color-mix(in oklab, var(--brand-2) 55%, var(--border));

  /* --- Toggle thème --- */
  --icon-size:1.25rem;
  --sun-nudge-y:-0.5px;
}

/* --- Palette LIGHT adoucie (moins “pétante”, relief doux) --- */
:root[data-theme="light"]{
  --bg: #eef1f6;                 /* gris très clair bleuté */
  --fg: #0b1324;                 /* texte foncé lisible */
  --muted:#5e6a80;
  --card:#ffffff;
  --border:#d9e1ee;              /* bordure douce */
  --shadow-1:0 14px 38px rgba(15,23,42,.10);

  --pill-talend:  color-mix(in oklab, var(--brand)   90%, #fff 10%);
  --pill-powerbi: color-mix(in oklab, var(--brand-2) 90%, #fff 10%);
  --pill-fg:#fff;
}

/* Suivre le système si data-theme absent */
@media (prefers-color-scheme: light){
  :root:not([data-theme]){
    --bg:#eef1f6; --fg:#0b1324; --muted:#5e6a80; --card:#fff; --border:#d9e1ee;
    --shadow-1:0 14px 38px rgba(15,23,42,.10);
    --pill-talend:  color-mix(in oklab, var(--brand)   90%, #fff 10%);
    --pill-powerbi: color-mix(in oklab, var(--brand-2) 90%, #fff 10%);
    --pill-fg:#fff;
  }
}

/* ======================= 2) Base & utilitaires ======================= */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg); color:var(--fg); text-rendering:optimizeLegibility;
}

main{ max-width:var(--container); margin:auto; padding:clamp(1.2rem,1.5vw,2rem) 1rem; }
.section{ padding-block: clamp(1.8rem,3.2vw,3rem); }
.section h2{ font-size:var(--step-2); line-height:1.2; margin:0 0 .75rem; }
.lead{ font-size:var(--step-0); color:var(--muted); max-width:70ch; }

.muted{ color:var(--muted); }
.hidden{ display:none !important; }
.sr-only{
  position:absolute !important; width:1px;height:1px;
  padding:0;margin:-1px;overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

/* Grilles utilitaires */
.grid{ display:grid; gap: clamp(1.1rem,2.8vw,1.7rem); }
.grid.cols-2{ grid-template-columns:1fr; }
.grid.cols-3{ grid-template-columns:1fr; }
@media (min-width:700px){  .grid.cols-2{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1100px){ .grid.cols-3{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

/* ==================== 3) Header & Navigation ==================== */
.site-header{
  position:sticky; top:0; z-index:60;
  border-bottom:1px solid var(--border);
  background:color-mix(in oklab, var(--bg) 92%, transparent);
  -webkit-backdrop-filter:saturate(1.2) blur(10px);
  backdrop-filter:saturate(1.2) blur(10px);
}
:root[data-theme="light"] .site-header{
  background:color-mix(in oklab, #ffffff 88%, transparent);
}

.navbar{
  max-width:var(--container);
  margin-inline:auto;
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  padding:.55rem 1rem;
}
.brand{
  display:flex; align-items:center; gap:.6rem;
  font-weight:800; font-size:var(--step-0); color:var(--fg); text-decoration:none;
  letter-spacing:.02em;
}
.brand .dot{
  width:.8rem; height:.8rem; border-radius:999px;
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  box-shadow:0 0 0 3px color-mix(in oklab, var(--brand) 22%, transparent);
}
.nav-actions{ display:inline-flex; align-items:center; gap:.5rem; }

/* Toggle thème — ergonomie & centrage parfait */
:root{ --icon-size:1.2rem; --sun-nudge-y:-1px; }

.theme-toggle{
  position: relative;
  display: inline-flex; align-items: center; gap: .55rem;
  height: 40px;
  padding: .45rem .9rem .45rem calc(.7rem + var(--icon-size) + .5rem);
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--card);
  color: var(--fg);
  cursor: pointer;
  transition: background .18s, border-color .18s, transform .18s, box-shadow .18s;
}
.theme-toggle:hover{
  background: color-mix(in oklab, var(--fg) 6%, var(--card));
  box-shadow: 0 4px 14px rgba(0,0,0,.08);
}
.theme-toggle:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand) 45%, transparent);
}
:root[data-theme="light"] .theme-toggle{
  background: #fff;
  border-color: var(--border);
  box-shadow: 0 4px 14px rgba(15,23,42,.06);
}
:root[data-theme="light"] .theme-toggle:hover{
  background: color-mix(in oklab, #fff 90%, var(--brand) 4%);
}

/* Slot icône fixe */
.theme-toggle .tt-icon{
  position: absolute; left: .7rem; top: 50%;
  transform: translateY(-50%);
  width: var(--icon-size); height: var(--icon-size);
  display: grid; place-items: center; pointer-events: none; line-height: 0;
}
.icon-sun, .icon-moon{
  position: absolute; inset: 0;
  display: grid; place-items: center;
  transform-origin: 50% 50%;
  transition: opacity .28s ease, transform .38s ease;
}
.icon-sun svg, .icon-moon svg{
  width: 100%; height: 100%; display: block;
  vector-effect: non-scaling-stroke; shape-rendering: geometricPrecision;
}
.icon-sun svg{ transform: translateY(var(--sun-nudge-y)); }
.icon-sun{  opacity: 0; transform: rotate(-90deg) scale(.94); }
.icon-moon{ opacity: 1; transform: rotate(0deg)    scale(1);  }
:root[data-theme="light"] .icon-sun{  opacity: 1; transform: rotate(0deg)  scale(1);  }
:root[data-theme="light"] .icon-moon{ opacity: 0; transform: rotate(90deg) scale(.94); }
.theme-toggle .tt-label{ font-weight:700; letter-spacing:.01em; line-height:1; }

/* Burger / panneau mobile */
.nav-toggle{
  display:inline-flex; align-items:center; gap:.5rem; height:40px; padding:0 .9rem;
  border:1px solid var(--border); border-radius:12px; background:var(--card); color:var(--fg); font-weight:700;
}
.nav-toggle .chev{ transition:transform .2s ease; }
.nav-toggle[aria-expanded="true"] .chev{ transform:rotate(180deg); }

.nav-collapsible{
  overflow:clip; max-height:0;
  transition:max-height .28s ease, border-color .28s ease, box-shadow .28s ease;
  border-bottom:1px solid transparent;
  background:color-mix(in oklab,var(--bg) 98%, transparent);
  box-shadow:0 0 0 rgba(0,0,0,0);
}
.nav-collapsible.open{
  max-height:60svh; border-color:var(--border); box-shadow:0 10px 22px rgba(0,0,0,.08);
}
.nav-list{ list-style:none; margin:0; padding:.5rem .75rem 1rem; display:grid; gap:.6rem; }
.nav-list a,.nav-list .btn{
  display:block; padding:1rem 1.1rem; border-radius:14px; text-decoration:none;
  color:var(--fg); background:var(--card); border:1px solid var(--border);
}
.nav-list a:hover{ border-color:color-mix(in oklab,var(--border),var(--brand) 30%); }

.nav-desktop{ display:none; flex:1 1 auto; min-width:0; }
.nav-inline{
  display:flex; align-items:center; gap:.6rem; white-space:nowrap;
  list-style:none; margin:0; padding:0 .5rem;
}
@media (min-width:992px){
  .nav-toggle{ display:none; }
  .nav-desktop{ display:block; }
  .nav-actions .theme-toggle{ display:inline-flex; }
  .nav-collapsible{ display:none; }
}

/* CTA “Réserver un créneau” */
.nav-desktop .btn.cta, .nav-list .btn.cta{
  border:0 !important;
  background:linear-gradient(135deg, var(--brand), var(--brand-2)) !important;
  color:#fff !important; font-weight:800; letter-spacing:.01em;
  box-shadow:0 12px 26px color-mix(in oklab, var(--brand) 30%, transparent);
}
.nav-desktop .btn.cta:hover, .nav-list .btn.cta:hover{
  transform:translateY(-1px);
  box-shadow:0 16px 30px color-mix(in oklab, var(--brand) 36%, transparent);
}

/* ======================== 4) Composants ======================== */
.card{
  background:var(--card);
  border:1px solid color-mix(in oklab, var(--border) 86%, transparent);
  border-radius:var(--radius-2);
  padding:clamp(1rem, 2.2vw, 1.35rem);
  box-shadow:var(--shadow-1);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.card:hover{
  transform:translateY(-4px);
  border-color:color-mix(in oklab, var(--border), var(--brand) 28%);
  box-shadow:0 16px 32px color-mix(in oklab, #000 18%, transparent);
}
:root[data-theme="light"] .card{
  background:color-mix(in oklab, #ffffff 96%, var(--brand) 4%);
  border-color:color-mix(in oklab, var(--border), var(--brand) 6%);
}

/* Boutons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.55rem;
  min-height:46px; padding:.7rem 1.05rem; line-height:1;
  border:1px solid var(--border); border-radius:.9rem;
  background:var(--card); color:var(--fg); font-weight:600; cursor:pointer;
  transition:transform .18s, border-color .18s, background .18s, box-shadow .18s;
}
.btn:hover{
  transform:translateY(-1px);
  background:color-mix(in oklab,var(--fg) 6%,var(--card));
  border-color:color-mix(in oklab,var(--fg) 14%,var(--border));
  box-shadow:0 6px 18px rgba(0,0,0,.12);
}
.btn:focus-visible{ outline:none; box-shadow:0 0 0 3px color-mix(in oklab,var(--brand) 40%,transparent); }
:root[data-theme="light"] .btn{
  background:color-mix(in oklab, #ffffff 94%, var(--brand) 6%);
  border-color:color-mix(in oklab, var(--border), var(--brand) 10%);
}
:root[data-theme="light"] .btn:hover{
  background:color-mix(in oklab, #ffffff 90%, var(--brand) 10%);
  border-color:color-mix(in oklab, var(--border), var(--brand) 28%);
  box-shadow:0 10px 26px rgba(15,23,42,.12);
}

/* Buttons “à gauche” avec icône */
.btn--icon{ justify-content:flex-start; padding:.85rem 1rem; font-weight:700; }
.btn__icon{
  width:2rem; height:2rem; border-radius:.7rem; display:grid; place-items:center;
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 8%);
  background: color-mix(in oklab, var(--card) 92%, var(--brand) 8%);
}
:root[data-theme="light"] .btn__icon{ background: color-mix(in oklab, #fff 90%, var(--brand) 10%); }
.btn--primary{
  color:#fff; border:0;
  background: linear-gradient(135deg, var(--brand), var(--brand-2));
  box-shadow: 0 12px 26px color-mix(in oklab, var(--brand) 30%, transparent);
}
.btn--primary:hover{ transform:translateY(-1px); box-shadow:0 16px 32px color-mix(in oklab, var(--brand) 36%, transparent); }

/* Chips */
.chip{
  display:inline-flex; align-items:center; gap:.5rem; line-height:1;
  padding:.5rem .8rem; border:1px solid var(--border); border-radius:12px;
  background:var(--card); color:var(--fg); text-decoration:none; font-weight:600;
  transition:border-color .18s, background .18s, transform .18s, box-shadow .18s;
}
.chip:hover{ transform:translateY(-1px); border-color:color-mix(in oklab, var(--border), var(--brand) 30%); }

/* Pills Talend / Power BI */
.pill{
  display:inline-block; padding:.24rem .6rem; border-radius:.7rem;
  font-size:var(--step--1); font-weight:800; line-height:1.25; letter-spacing:.01em;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.pill--talend{  background:var(--pill-talend);  color:var(--pill-fg); border:1px solid var(--pill-border-talend); }
.pill--powerbi{ background:var(--pill-powerbi); color:var(--pill-fg); border:1px solid var(--pill-border-powerbi); }
.pill--talend:is(:hover,:focus-visible), .pill--powerbi:is(:hover,:focus-visible){
  filter:brightness(1.06); outline:none; box-shadow:0 0 0 3px color-mix(in oklab, currentColor 28%, transparent);
}

/* ========================== 5) Sections ========================== */
/* HERO */
.hero{
  display:grid; grid-template-columns:1fr; gap:clamp(1rem,2vw,1.5rem); align-items:center;
}
.hero .actions{ display:flex; gap:.7rem; margin-top:1rem; flex-wrap:wrap; }
.hero img{ max-width:100%; border-radius:var(--radius-3); border:1px solid var(--border); }
.hero__img{ width:100%; aspect-ratio:16/9; object-fit:cover; border-radius:var(--radius-3); border:1px solid var(--border); }
.hero__viz{
  width:100%; aspect-ratio:16/9; border-radius:var(--radius-3); border:1px solid var(--border);
  background:var(--card); background-image:var(--hero-image); background-size:cover; background-position:50% 50%;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
@media (min-width:900px){ .hero{ grid-template-columns:1.25fr .85fr; } }

/* MÉTHODES */
.methodes.methodes--modern{
  display:grid; grid-template-columns:1fr;
  gap:clamp(1rem,2.5vw,1.6rem); margin-top:clamp(1.5rem,3vw,2.6rem);
}
@media (min-width:700px){  .methodes.methodes--modern{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1100px){ .methodes.methodes--modern{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

.methode{
  display:grid; grid-template-columns:2.6rem 1fr;
  align-items:start; column-gap:1rem; row-gap:.7rem;
  padding:clamp(1.2rem,2.2vw,1.6rem);
  background:var(--card); border:1px solid color-mix(in oklab, var(--border) 86%, transparent);
  border-radius:var(--radius-2); box-shadow:var(--shadow-1);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
@media (hover:hover){
  .methode:hover{ transform:translateY(-6px); border-color:color-mix(in oklab,var(--brand) 35%,var(--border)); box-shadow:0 12px 28px rgba(0,0,0,.35); }
}
:root[data-theme="light"] .methode{ background:color-mix(in oklab, #ffffff 96%, var(--brand) 4%); }

.methode-head{ display:contents; }
.methode__icon{
  grid-column:1; grid-row:1; width:2.6rem; height:2.6rem;
  display:grid; place-items:center; border-radius:.9rem;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; font-size:1.2rem;
  box-shadow:0 2px 6px rgba(0,0,0,0.25);
}
.methode__title{
  grid-column:2; grid-row:1; margin:0; align-self:center;
  font-size:var(--step-1); font-weight:800; color:var(--fg); line-height:1.3;
}
.methode__line{
  grid-column:1 / -1; display:flex; align-items:center; gap:.45rem;
  font-size:var(--step--1); color:var(--muted); flex-wrap:wrap;
}
.methode__note{
  grid-column:1 / -1; margin-top:.6rem; display:flex; align-items:center; gap:.5rem;
  font-size:var(--step--1); color:var(--muted); text-align:left;
}
.methode__note-icon{ font-size:1rem; line-height:1; color:var(--brand-2); }

/* CERTIFICATIONS — slider mobile → grille desktop */
.certs{ padding-block:clamp(2rem,3vw,3.5rem); }
.certs-head{ text-align:center; margin-bottom:1.25rem; }
.certs .h2{ font-size:var(--step-2); margin:0; }

.certs-viewport{ max-width:min(100vw,1100px); margin-inline:auto; overflow:hidden; }

/* Mobile: slider plein écran */
.certs-rail{
  list-style:none; margin:0; padding:0; display:grid;
  grid-auto-flow:column; grid-auto-columns:100%;
  gap:0; overflow-x:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch;
}
.certs-rail > li{ width:100%; scroll-snap-align:center; }

/* Desktop: grille */
@media (min-width:900px){
  .certs-viewport{ overflow:visible; }
  .certs-rail{
    grid-auto-flow:row; grid-auto-columns:initial;
    grid-template-columns:repeat(3,minmax(0,1fr));
    gap:1.25rem 1.5rem; overflow:visible; scroll-snap-type:none;
  }
  .certs-rail > li{ scroll-snap-align:unset; }
}

/* Carte certification */
.cert-card{
  display:grid; grid-template-columns:56px 1fr; align-items:start;
  column-gap:1.4rem; row-gap:.7rem;
  padding:clamp(1.5rem,2.6vw,2.1rem); padding-inline:clamp(1.6rem,3vw,2.4rem);
  background:var(--card); border:1px solid color-mix(in oklab, var(--border) 86%, transparent);
  border-radius:var(--radius-2); box-shadow:var(--shadow-1);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
@media (hover:hover){
  .cert-card:hover{ transform:translateY(-6px); border-color:color-mix(in oklab,var(--brand) 35%,var(--border)); box-shadow:0 12px 28px rgba(0,0,0,.35); }
}
:root[data-theme="light"] .cert-card{ background:color-mix(in oklab, #ffffff 96%, var(--brand) 4%); }

.cert-badge{
  grid-column:1; grid-row:1; display:grid; place-items:center;
  width:56px; height:56px; border-radius:.9rem;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,0.25);
}
.cert-logo{ width:100%; height:100%; object-fit:contain; }
.cert-body{ grid-column:1 / -1; display:grid; gap:.55rem; }
.cert-title{ margin:0; font-size:var(--step-1); font-weight:800; line-height:1.3; }
.cert-issuer{ margin:.1rem 0 0; font-size:var(--step--1); color:var(--muted); }

/* Statut/date */
.cert-statusline{
  grid-column:2; grid-row:1; display:flex; align-items:center; gap:.6rem;
  font-size:var(--step-0); font-weight:700;
}
.cert-chip{
  display:inline-flex; align-items:center; gap:.4rem; padding:.35rem .7rem; line-height:1;
  border-radius:999px; font-size:var(--step--1); border:1px solid var(--border); background:var(--card);
}
.cert-chip.chip-ok{ color:var(--brand-2); border-color:color-mix(in oklab,var(--brand-2) 40%,var(--border)); }
.cert-chip.chip-pending{ color:var(--muted); }
.cert-date{ opacity:.9; font-size:var(--step--1); }

/* Tags */
.cert-tags{ display:flex; flex-wrap:wrap; gap:.5rem; list-style:none; margin:.55rem 0 0; padding:0; }
.cert-tags .tag{
  padding:.35rem .6rem; border-radius:999px;
  background:color-mix(in oklab, #94a3b8 14%, transparent);
  border:1px solid color-mix(in oklab, #94a3b8 28%, transparent);
  font-size:calc(var(--step--1) - .02rem); line-height:1; white-space:nowrap;
}
:root[data-theme="light"] .cert-tags .tag{
  background:color-mix(in oklab, #94a3b8 10%, #fff 92%);
  border:1px solid color-mix(in oklab, #94a3b8 22%, #fff 0%);
  color:color-mix(in oklab, var(--fg) 88%, #000 0%);
}

/* Dots carousel (mobile) */
.certs-dots{ display:flex; justify-content:center; align-items:center; gap:.5rem; margin-top:.75rem; padding-bottom:.25rem; }
.certs-dot{
  -webkit-tap-highlight-color:transparent;
  width:8px; height:8px; border-radius:999px; border:0;
  background:color-mix(in oklab, var(--muted) 55%, transparent);
  opacity:.6; transform:scale(.9);
  transition: transform .2s ease, opacity .2s ease, background .2s ease;
}
.certs-dot:is(:hover,:focus-visible){ opacity:.85; transform:scale(1); outline:none; }
.certs-dot.is-active{ opacity:1; transform:scale(1.2); background:color-mix(in oklab, var(--brand) 60%, #fff 0%); }
@media (min-width:900px){ .certs-dots{ display:none; } }

/* ========================== 6) Pages: About ========================== */
.about-title{ margin:0; font-size:var(--step-3); }
.about-sub{ margin:.2rem 0 1rem; color:var(--muted); font-weight:700; font-size:var(--step-0); }
.about-text{ max-width:720px; text-align:left; margin:0; display:grid; gap:.9rem; }
.about-text p{ margin:.4rem 0; line-height:1.6; }
.about-text .lead{ font-size:var(--step-0); color:var(--fg); }

.about-sub.badge-style{
  display:inline-block; font-weight:800; font-size:var(--step-0);
  padding:.28rem .8rem; border-radius:.75rem;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; margin-bottom:1rem;
}
.about-sub.gradient-style{
  font-weight:900; font-size:var(--step-1);
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; margin-bottom:1rem;
}

/* ============================ 7) Contact ============================ */
/* Mise en page générale */
.contact-v2 .section-head{ margin-bottom:.8rem; }
.contact-grid{ display:grid; gap:1rem; align-items:start; }
.contact-left{ min-width:0; }

/* Card Calendly alignée à gauche sur desktop */
.contact-v2 .calendly-card{
  max-width: 760px;
  margin-left: 0;
  margin-right: auto;
}

/* Card Calendly — layout interne */
.calendly-card{
  padding:0; overflow:hidden;
  display:grid; grid-template-rows:auto 1fr auto; /* header / widget / note */
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius-2);
  box-shadow:var(--shadow-1);
}
.calendly-head{
  display:flex; align-items:center; justify-content:space-between; gap:.8rem;
  padding:.9rem 1rem; border-bottom:1px solid var(--border);
  background:linear-gradient(180deg,
            color-mix(in oklab,var(--card) 90%,transparent),
            color-mix(in oklab,var(--card) 94%,transparent));
}
.calendly-title{ display:flex; align-items:center; gap:.6rem; }
.calendly-title h3{ margin:0; font-size:var(--step-1); line-height:1.2; }
.calendly-dot{
  width:.8rem; height:.8rem; border-radius:999px;
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  box-shadow:0 0 0 4px color-mix(in oklab,var(--brand) 20%,transparent);
}

/* Switch compact */
.calendly-switch{ display:flex; gap:.35rem; }
.chip--seg{
  padding:.45rem .7rem; border-radius:.7rem;
  background: color-mix(in oklab, var(--card) 96%, var(--brand) 4%);
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 8%);
  font-weight:700; font-size:var(--step--1);
  transition: transform .16s ease, box-shadow .16s ease;
}
.chip--seg:hover{ transform:translateY(-1px); }
.chip--seg.is-active{
  color:#fff; border-color: transparent;
  background: linear-gradient(135deg, var(--brand), var(--brand-2));
  box-shadow: 0 8px 22px color-mix(in oklab, var(--brand) 24%, transparent);
}

/* Zone widget inline (plein format, responsive) */
.calendly-inline{
  position:relative;
  min-height: clamp(560px, 70vh, 920px);
  background:var(--card);
}
.calendly-inline > .calendly-inline-widget,
.calendly-inline iframe{
  position:absolute; inset:0;
  width:100% !important; height:100% !important;
  border:0 !important; min-height:0 !important; display:block;
}

/* Overlays (loader / fallback) — masqués quand prêt */
.calendly-overlay,
.calendly-skeleton{ position:absolute; inset:0; display:grid; place-items:center; padding:1rem; z-index:2; }
.calendly-overlay{ background:transparent; }
.calendly-skeleton{
  border-top:1px solid var(--border);
  background: color-mix(in oklab, var(--card) 90%, var(--bg));
}
.calendly-inline.is-ready .calendly-overlay,
.calendly-inline.is-ready .calendly-skeleton{ display:none !important; }

/* Note pied de card */
.calendly-note{ margin:.6rem 1rem 1rem; color:var(--muted); }

/* Bouton CTA (mobile) — identique au CTA nav */
.contact-v2 .btn.cta{
  border:0 !important;
  background:linear-gradient(135deg, var(--brand), var(--brand-2)) !important;
  color:#fff !important; font-weight:800; letter-spacing:.01em;
  box-shadow:0 12px 26px color-mix(in oklab, var(--brand) 30%, transparent);
}
.contact-v2 .btn.cta:hover{
  transform:translateY(-1px);
  box-shadow:0 16px 30px color-mix(in oklab, var(--brand) 36%, transparent);
}
.contact-v2 .actions--center{ display:flex; justify-content:center; padding:1rem; }

/* Desktop : inline visible / Mobile : bouton visible (pas d’inline) */
#calendly-inline-embed{
  position:relative; min-height: clamp(640px, 70vh, 920px);
  margin: 0 1rem 1rem;
}
#calendly-inline-embed > .calendly-inline-widget,
#calendly-inline-embed iframe{
  position:absolute; inset:0; width:100% !important; height:100% !important;
  border:0 !important; min-height:0 !important; display:block;
}
@media (max-width: 991px){
  #calendly-inline-embed{ display:none; }
  .contact-v2 .actions--center{ display:flex; }
}
@media (min-width: 992px){
  .contact-v2 .actions--center{ display:none; }
  .contact-sticky{ position: sticky; top: 88px; }
}

/* Loader 3 points (même style popup) */
.dots-loader{
  position:absolute; inset:0; display:grid; place-items:center; padding:1rem; z-index:1;
}
.dots-loader span{
  display:inline-block; width:8px; height:8px; margin:0 4px; border-radius:999px;
  background: color-mix(in oklab, var(--fg) 80%, #fff 0%);
  opacity:.65; animation: dl-bounce 1.2s infinite cubic-bezier(.6,.05,.4,.95);
}
.dots-loader span:nth-child(1){ animation-delay: 0s; }
.dots-loader span:nth-child(2){ animation-delay: .15s; }
.dots-loader span:nth-child(3){ animation-delay: .30s; }
@keyframes dl-bounce{
  0%, 80%, 100% { transform: translateY(0); opacity:.5; }
  40%          { transform: translateY(-6px); opacity:1; }
}

/* ===== Autres moyens de contact (liste gauche + bouton copier) ===== */
.contact-inline{ text-align:left; display:grid; gap:1rem; }
.contact-list{ list-style:none; margin:0; padding:0; display:grid; gap:.8rem; }
.contact-row{ display:flex; align-items:center; justify-content:flex-start; gap:.5rem; }
.contact-item{
  flex:1; display:flex; align-items:center; justify-content:flex-start; gap:.6rem;
  text-decoration:none; color:var(--fg);
  padding:.9rem 1rem; border:1px solid var(--border); border-radius:1rem;
  background: color-mix(in oklab, var(--card) 98%, var(--brand) 2%);
  transition: transform .16s, border-color .16s, box-shadow .16s, background .16s;
}
.contact-item:hover{
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--border), var(--brand) 28%);
  box-shadow: 0 10px 24px rgba(0,0,0,.14);
  background: color-mix(in oklab, var(--card) 94%, var(--brand) 6%);
}
.ci-icon{
  width:40px; height:40px; border-radius:.9rem; display:grid; place-items:center;
  background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff;
  box-shadow: 0 2px 6px rgba(0,0,0,.25);
  font-size:1.05rem;
}
.ci-body{ display:flex; flex-direction:column; align-items:flex-start; gap:.1rem; min-width:0; }
.ci-body strong{ font-weight:800; color:var(--fg); line-height:1.2; }
.ci-body small{ color:var(--muted); line-height:1.2; }
.ci-cta{ font-weight:800; opacity:.7; }
.ci-copy-btn{
  width:40px; height:40px; display:grid; place-items:center;
  border-radius:.9rem; border:1px solid var(--border);
  background: color-mix(in oklab, var(--card) 96%, var(--fg) 4%); color: var(--muted);
  cursor:pointer; transition: transform .16s, border-color .16s, background .16s, color .16s;
}
.ci-copy-btn:hover{
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--border), var(--brand) 26%);
  background: color-mix(in oklab, var(--card) 90%, var(--brand) 10%); color:#fff;
}

/* ======================== 8) Footer & Modal ======================== */
.site-footer{
  border-top:1px solid var(--border);
  padding:clamp(1.4rem,2vw,2rem) 1rem;
  text-align:center; color:var(--muted);
}
.modal{
  position:fixed; inset:0; background:color-mix(in oklab,#000 60%,transparent);
  display:grid; place-items:center; padding:1rem;
}
.modal[hidden]{ display:none; }
.modal__dialog{
  background:var(--bg); border:1px solid var(--border); border-radius:var(--radius-3);
  width:min(900px,100%); max-width:min(900px,96vw);
  height:min(80vh,700px); max-height:90vh;
  padding:0; overflow:hidden; position:relative; box-shadow:var(--shadow-1);
}
.modal__close{ position:absolute; top:.6rem; right:.8rem; background:none; color:var(--fg); font-size:1.8rem; border:none; cursor:pointer; }

/* ======================== 9) Motion & A11y ======================== */
@media (prefers-reduced-motion: reduce){
  .nav-toggle .chev, .nav-collapsible, .btn, .card, .methode, .cert-card,
  .icon-sun, .icon-moon, .theme-toggle, .certs-dot, .chip--seg, .contact-item,
  .ci-copy-btn { transition:none !important; }
}

/* ===================== 10) Ultra-large screens ===================== */
@media (min-width:1600px){
  .section{ padding-block: clamp(2.2rem, 2vw, 3.6rem); }
  .hero{ grid-template-columns: 1.1fr .9fr; gap: 2rem; }
  .card{ padding: clamp(1.2rem, 1.4vw, 1.8rem); }
}

/* ===================== 11) Micro-screens (≤360px) ===================== */
@media (max-width:360px){
  .nav-toggle{ padding:0 .7rem; }
  .theme-toggle{ height:38px; padding:.4rem .6rem .4rem calc(.7rem + var(--icon-size) + .35rem); }
  .methode{ grid-template-columns:2.4rem 1fr; }
  .methode__icon{ width:2.4rem; height:2.4rem; }
  .cert-card{ grid-template-columns:52px 1fr; }
  .cert-badge{ width:52px; height:52px; }
}
