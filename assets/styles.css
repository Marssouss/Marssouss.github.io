:root{
  --bg: #0b1020;         /* dark slate */
  --fg: #e6e8ee;
  --muted:#9aa3b2;
  --brand:#4f46e5;       /* indigo */
  --brand-2:#22c55e;     /* green */
  --card:#121933;
  --border:#1f2a44;
}

:root[data-theme="light"]{
  --bg:#ffffff; --fg:#0b1020; --muted:#475569;
  --card:#f8fafc; --border:#e2e8f0;
}
:root[data-theme="dark"]{
  --bg: #0b1020; --fg:#e6e8ee; --muted:#9aa3b2;
  --card:#121933; --border:#1f2a44;
}

@media (prefers-color-scheme: light){
  :root{
    --bg:#ffffff; --fg:#0b1020; --muted:#475569;
    --card:#f8fafc; --border:#e2e8f0;
  }
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg); color:var(--fg);
}

/* === HEADER === */
.site-header{
  position:sticky; top:0; z-index:50;
  backdrop-filter:saturate(1.2) blur(8px);
  background:color-mix(in oklab, var(--bg) 85%, transparent);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  padding:.75rem 1rem;
}
.brand{font-weight:700; color:var(--fg); text-decoration:none; display:flex; align-items:center; gap:.5rem}
.brand .dot{width:.75rem; height:.75rem; border-radius:999px; background:linear-gradient(135deg,var(--brand),var(--brand-2)); display:inline-block}

.nav{display:flex; gap:.5rem; list-style:none; margin:0; padding:0; align-items:center}
.nav a{color:var(--fg); text-decoration:none; padding:.5rem .75rem; border-radius:.6rem}
.nav a:hover{background:color-mix(in oklab, var(--fg) 10%, transparent)}

/* Boutons d'entête */
.menu-toggle{background:none; border:1px solid var(--border); color:var(--fg); padding:.4rem .6rem; border-radius:.6rem; display:none}
.theme-toggle{background:none; border:1px solid var(--border); color:var(--fg); padding:.4rem .6rem; border-radius:.6rem; display:inline-flex; align-items:center; gap:.35rem; cursor:pointer}
.theme-toggle:hover{ background: color-mix(in oklab, var(--fg) 10%, transparent); }

@media (max-width: 900px){
  .menu-toggle{display:inline-block}
  /* la theme-toggle reste visible aussi sur mobile */
}


/* === BASE === */
main{max-width:1280px; margin:auto; padding:2rem 1rem}
.section{margin-block:3rem}
.section h2{font-size:1.6rem; margin-bottom:.75rem}
.lead{font-size:1.1rem; color:var(--muted)}

.grid{display:grid; gap:1rem}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}
@media (max-width:900px){ .grid.cols-3,.grid.cols-2{grid-template-columns:1fr} }

.card{background:var(--card); border:1px solid var(--border); border-radius:1.2rem; padding:1rem}
.card h3{margin:.2rem 0 .4rem}
.badge{display:inline-block; border:1px solid var(--border); border-radius:999px; padding:.2rem .6rem; font-size:.85rem; color:var(--muted)}

/* === HERO === */
.hero{display:grid; grid-template-columns:1.2fr .8fr; gap:1.5rem; align-items:center}
.hero .actions{display:flex; gap:.6rem; margin-top:1rem}
.hero img{max-width:100%; border-radius:1rem; border:1px solid var(--border)}
@media (max-width:900px){ .hero{grid-template-columns:1fr} }

.hero__content { order: 1; }
@media (max-width:900px){ .hero__img{ margin-top: 1rem; } }

@media (min-width: 980px){ .hero{ grid-template-columns: .9fr 1.1fr; } }
@media (min-width: 1280px){ .hero{ grid-template-columns: 1fr 1.3fr; } }

.hero__img{
  width: 100%;
  aspect-ratio: 16/9;
  object-fit: cover;
  border-radius: 1rem;
  border: 1px solid var(--border);
}
.hero__viz{
  width:100%; aspect-ratio:16/9; border-radius:1rem; border:1px solid var(--border);
  background:var(--card); background-image:var(--hero-image);
  background-size:cover; background-position:50% 50%;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}

/* === FOOTER & MODAL === */
.site-footer{border-top:1px solid var(--border); padding:2rem 1rem; text-align:center; color:var(--muted)}
.modal{position:fixed; inset:0; background:color-mix(in oklab, #000 60%, transparent); display:grid; place-items:center}
.modal[hidden]{display:none}
.modal__dialog{background:var(--bg); border:1px solid var(--border); border-radius:1rem; width:min(900px,90vw); height:min(80vh,700px); padding:0; overflow:hidden}
.modal__close{position:absolute; margin:.5rem; right:1rem; background:none; color:var(--fg); font-size:1.8rem; border:none; cursor:pointer}

/* === KPI modern === */
.kpis.kpis--modern{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  column-gap:3rem; row-gap:2rem;
  margin-top:2.5rem;
}
@media (max-width:1100px){ .kpis.kpis--modern{grid-template-columns:repeat(2,1fr)} }
@media (max-width:700px){ .kpis.kpis--modern{grid-template-columns:1fr; row-gap:1.5rem} }

.kpi{display:grid; grid-template-columns:auto 1fr; align-items:start; gap:1rem 1.2rem; padding:1.5rem;
  background:var(--card); border:1px solid var(--border); border-radius:1.2rem;
  box-shadow:0 2px 6px rgba(0,0,0,0.25); transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;}
.kpi:hover{transform:translateY(-6px); border-color:color-mix(in oklab,var(--brand) 35%,var(--border)); box-shadow:0 12px 28px rgba(0,0,0,0.35);}
.kpi__icon{width:2.6rem;height:2.6rem;display:grid;place-items:center;border-radius:.9rem;
  background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff;font-size:1.2rem;box-shadow:0 2px 6px rgba(0,0,0,0.25);}
.kpi__title{margin:0;font-size:1.15rem;font-weight:600;color:var(--fg);line-height:1.3}
.kpi__text{grid-column:1/-1;margin-top:.4rem;color:var(--muted);font-size:.95rem;line-height:1.5}

/* === CONTACT === */
.contact-grid{
  display:grid; grid-template-columns:minmax(0,1fr) 460px;
  gap:2rem; align-items:start;
}
@media (max-width:1100px){ .contact-grid{grid-template-columns:1fr} }

.contact-form{display:grid;gap:1rem;max-width:720px;margin-top:1.5rem}
.contact-form label{display:flex;flex-direction:column;font-size:.95rem;color:var(--muted)}
.contact-form input,.contact-form textarea{
  margin-top:.4rem;padding:.6rem .8rem;border:1px solid var(--border);border-radius:.6rem;
  background:var(--card);color:var(--fg);font:inherit;
}
.contact-form input:focus,.contact-form textarea:focus{
  outline:none;border-color:var(--brand);
  box-shadow:0 0 0 2px color-mix(in oklab,var(--brand) 30%,transparent);
}
.contact-form label span{font-weight:500}

.contact-cta.card{display:grid;gap:.9rem;padding:1.25rem}
.contact-cta h3{margin:.2rem 0 .2rem}
.contact-cta .stack{display:grid;gap:.6rem}
.contact-cta .btn{width:100%;justify-content:center}
.contact-cta .note{color:var(--muted);margin:.4rem 0 0;font-size:.95rem}

/* === BUTTONS uniformisés === */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.55rem;
  min-height:46px;padding:.65rem 1rem;line-height:1;
  border:1px solid var(--border);border-radius:.8rem;
  background:var(--card);color:var(--fg);font-weight:500;
  cursor:pointer;
  transition:transform .18s ease,border-color .18s ease,background .18s ease,box-shadow .18s ease;
}
.btn__icon{width:1.2rem;display:inline-grid;place-items:center;font-size:1.1rem}
.btn:hover{transform:translateY(-2px);background:color-mix(in oklab,var(--fg) 6%,var(--card));border-color:color-mix(in oklab,var(--fg) 14%,var(--border))}
.btn:focus-visible{outline:none;box-shadow:0 0 0 3px color-mix(in oklab,var(--brand) 40%,transparent)}

.btn.cta{border:0;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff;font-weight:600}

/* --- Calendly : CTA premium avec glow pulsant au hover --- */
.btn--calendar{
  border:0;
  color:#fff;
  font-weight:600;
  background:linear-gradient(135deg, var(--brand), var(--brand-2));
  box-shadow:0 6px 16px rgba(0,0,0,.25);
  transition:transform .18s ease, box-shadow .18s ease;
  position:relative; overflow:hidden;  /* pour le pseudo-halo */
}

/* halo externe (fixe) au repos, très léger */
.btn--calendar::after{
  content:"";
  position:absolute; inset:-2px;
  border-radius:.9rem;
  pointer-events:none;
  box-shadow:0 0 0 0 color-mix(in oklab, var(--brand) 0%, transparent);
  transition:box-shadow .18s ease;
}

/* hover: pas de transparence du fond, élévation + halo pulsant */
.btn--calendar:hover{
  transform:translateY(-3px);
  box-shadow:0 10px 26px rgba(0,0,0,.35);
}
.btn--calendar:hover::after{
  box-shadow:
    0 0 0 2px color-mix(in oklab, var(--brand) 35%, transparent),
    0 0 20px 6px color-mix(in oklab, var(--brand) 30%, transparent);
  animation: calendarGlow 1.6s ease-in-out infinite;
}

/* focus clavier: halo net, sans animation (accessibilité) */
.btn--calendar:focus-visible{
  outline:none;
  box-shadow:0 10px 26px rgba(0,0,0,.35);
}
.btn--calendar:focus-visible::after{
  box-shadow:
    0 0 0 3px color-mix(in oklab, var(--brand) 45%, transparent),
    0 0 26px 10px color-mix(in oklab, var(--brand) 35%, transparent);
  animation:none;
}

/* animation du glow (respiration) */
@keyframes calendarGlow{
  0%   { opacity:.9; transform:translateZ(0) scale(1); }
  50%  { opacity:1;  transform:translateZ(0) scale(1.03); }
  100% { opacity:.9; transform:translateZ(0) scale(1); }
}

/* respect des préférences utilisateur */
@media (prefers-reduced-motion: reduce){
  .btn--calendar:hover::after{ animation:none; }
}

.btn--icon{display:inline-flex;align-items:center;gap:.55rem}


/* === THEME TOGGLE === */
.theme-toggle{
  display:inline-flex; align-items:center; gap:.45rem;
  background:none; border:1px solid var(--border); color:var(--fg);
  padding:.45rem .6rem; border-radius:.6rem; cursor:pointer;
  transition: background .18s ease, border-color .18s ease, transform .18s ease;
}
.theme-toggle:hover{ background: color-mix(in oklab, var(--fg) 10%, transparent); }
.theme-toggle:focus-visible{ outline:none; box-shadow:0 0 0 3px color-mix(in oklab, var(--brand) 40%, transparent); }

.tt-icon{ display:inline-grid; place-items:center; width:1.2rem; height:1.2rem; }
.icon-sun, .icon-moon{ transition:opacity .25s ease, transform .35s ease; }

/* Par défaut (dark) -> montrer lune, cacher soleil */
.icon-sun{ opacity:0; transform: rotate(-90deg) scale(.9); }
.icon-moon{ opacity:1; transform: rotate(0deg) scale(1); }

/* En thème clair -> montrer soleil, cacher lune */
:root[data-theme="light"] .icon-sun{ opacity:1; transform: rotate(0deg) scale(1); }
:root[data-theme="light"] .icon-moon{ opacity:0; transform: rotate(90deg) scale(.9); }

/* Petite rotation du bouton au clic (feedback) */
.theme-toggle:active{ transform: scale(.98); }

/* Respect des préférences */
@media (prefers-reduced-motion: reduce){
  .icon-sun, .icon-moon, .theme-toggle{ transition:none !important; }
}



/* certifications */
/* === Certifications ======================= */
.certs { padding-block: clamp(2rem, 3vw, 3.5rem); }
.certs-head { text-align: center; margin-bottom: 1.25rem; }
.certs .h2 { font-size: clamp(1.4rem, 2.4vw, 1.8rem); margin: 0; }
.certs .muted { color: var(--muted); margin-top: .5rem; }

.certs-grid {
  list-style: none; margin: 0; padding: 0;
  display: grid; gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}

.cert-card {
  display: grid; grid-template-columns: auto 1fr; gap: .9rem;
  align-items: start;
  background: var(--card); border: 1px solid var(--border);
  border-radius: 16px; padding: 1rem;
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  will-change: transform;
}
.cert-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
  border-color: color-mix(in oklab, var(--border), var(--brand) 25%);
}

.cert-badge {
  display: grid; place-items: center;
  width: 48px; height: 48px; border-radius: 12px;
  background: color-mix(in oklab, var(--brand) 20%, transparent);
  color: var(--brand);
}
.cert-card.is-pending .cert-badge {
  background: color-mix(in oklab, var(--muted) 18%, transparent);
  color: var(--muted);
}
.cert-badge .stroke { opacity: .6; }

.cert-body { display: grid; gap: .25rem; }
.cert-title { margin: 0; font-size: 1rem; line-height: 1.2; }
.cert-issuer { margin: 0; font-size: .9rem; color: var(--muted); }

.cert-status { font-size: .85rem; margin-top: .25rem; }
.cert-status.ok { color: var(--brand-2); font-weight: 600; }
.cert-status.pending { color: var(--muted); }

.certs-note {
  display: inline-flex; align-items: center; gap: .75rem;
  margin-top: 1rem; color: var(--muted); font-size: .9rem;
}
.certs-note .dot {
  display: inline-block; width: .6rem; height: .6rem; border-radius: 999px;
  translate: 0 1px;
}
.certs-note .dot.ok { background: var(--brand-2); }
.certs-note .dot.pending { background: var(--muted); }
.certs-note .sep { opacity: .5; }

/* Certifications – prise en charge des images badge */
.cert-badge {
  display: grid; place-items: center;
  width: 48px; height: 48px; border-radius: 12px;
  background: color-mix(in oklab, var(--brand) 20%, transparent);
  color: var(--brand);
  overflow: hidden; /* évite dépassement si image non carrée */
}
.cert-card.is-pending .cert-badge {
  background: color-mix(in oklab, var(--muted) 18%, transparent);
  color: var(--muted);
}
.cert-logo {
  width: 100%; height: 100%; object-fit: contain;
  image-rendering: -webkit-optimize-contrast;
  filter: drop-shadow(0 0 0 transparent); /* évite halo sur fond sombre */
}
