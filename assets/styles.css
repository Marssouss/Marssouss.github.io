/* ========================================================================
   ABM — CSS unifié (mobile-first, a11y, ultra-moderne & épuré)
   - Design tokens (palettes sombre/clair, espaces, radius, ombres)
   - Base & utilitaires
   - Header / Navigation (burger + desktop)
   - Composants: buttons, chips, pills, cards
   - Sections: Hero, Méthodes, Certifications (slider mobile → grille desktop)
   - Pages: About
   - Footer / Modal
   - Motion & prefers-reduced-motion
   ======================================================================== */

/* ================== 1) Design tokens ================== */
:root{
  /* Couleurs (sombre) */
  --bg:#0b1020;              /* fond global */
  --fg:#e6e8ee;              /* texte principal */
  --muted:#9aa3b2;           /* texte secondaire */
  --brand:#4f46e5;           /* indigo */
  --brand-2:#22c55e;         /* vert */
  --card:#121933;            /* surface cartes */
  --border:#1f2a44;          /* bordures discrètes */

  /* Paliers typographiques & espacements */
  --space-1:.5rem; --space-2:.75rem; --space-3:1rem; --space-4:1.5rem; --space-5:2rem;
  --radius-1:.7rem; --radius-2:.9rem; --radius-3:1.2rem;

  /* Ombrages & containers */
  --shadow-1:0 8px 24px rgba(0,0,0,.25);
  --container:1280px; --container-tight:1080px;

  /* Pills (adaptatives) */
  --pill-talend: color-mix(in oklab, var(--brand) 80%, var(--bg) 20%);
  --pill-powerbi: color-mix(in oklab, var(--brand-2) 78%, var(--bg) 22%);
  --pill-fg:#fff;
  --pill-border-talend: color-mix(in oklab, var(--brand) 55%, var(--border));
  --pill-border-powerbi: color-mix(in oklab, var(--brand-2) 55%, var(--border));
}

/* Thème clair premium (verre dépoli, surfaces blanches, fond très doux) */
:root[data-theme="light"]{
  --bg:#f6f7fb;              /* fond doux */
  --fg:#0b1220;              /* texte principal */
  --muted:#5b6475;           /* texte secondaire plus chaud */
  --card:#ffffff;            /* cartes blanches nettes */
  --border:#e7eaf1;          /* bordure subtile */
  --shadow-1:0 12px 28px rgba(15,23,42,.08);

  /* Pills en clair : plus “peps” sans dégradé */
  --pill-talend: color-mix(in oklab, var(--brand) 92%, #fff 8%);
  --pill-powerbi: color-mix(in oklab, var(--brand-2) 88%, #fff 12%);
  --pill-fg:#fff;
}

/* Respect du thème système si pas de data-theme défini */
@media (prefers-color-scheme: light){
  :root:not([data-theme]){
    --bg:#f6f7fb; --fg:#0b1220; --muted:#5b6475;
    --card:#ffffff; --border:#e7eaf1; --shadow-1:0 12px 28px rgba(15,23,42,.08);
    --pill-talend: color-mix(in oklab, var(--brand) 92%, #fff 8%);
    --pill-powerbi: color-mix(in oklab, var(--brand-2) 88%, #fff 12%);
    --pill-fg:#fff;
  }
}

/* ================== 2) Base & utilitaires ================== */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg); color:var(--fg);
}
main{ max-width:var(--container); margin:auto; padding:2rem 1rem; }
.section{ padding-block: clamp(1.6rem, 2.6vw, 2.8rem); }
.section h2{ font-size:clamp(1.4rem,2.4vw,1.8rem); line-height:1.2; margin:0 0 .75rem; }
.lead{ font-size:clamp(1.05rem,1.6vw,1.12rem); color:var(--muted); }

/* Grilles utilitaires */
.grid{ display:grid; gap: clamp(1rem,2.5vw,1.5rem); }
.grid.cols-2{ grid-template-columns:1fr; }
.grid.cols-3{ grid-template-columns:1fr; }
@media (min-width:900px){
  .grid.cols-2{ grid-template-columns:repeat(2,1fr); }
  .grid.cols-3{ grid-template-columns:repeat(3,1fr); }
}

/* Helpers */
.muted{ color:var(--muted); }
.hidden{ display:none !important; }

/* ================== 3) Header & Navigation ================== */
.site-header{
  position:sticky; top:0; z-index:60;
  backdrop-filter:saturate(1.2) blur(10px);
  background:color-mix(in oklab, var(--bg) 92%, transparent);
  border-bottom:1px solid var(--border);
}
:root[data-theme="light"] .site-header{
  background: color-mix(in oklab, #ffffff 85%, transparent);
}

.navbar{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  padding:.55rem 1rem;
}
.brand{
  display:flex; align-items:center; gap:.5rem;
  font-weight:700; font-size:1rem; color:var(--fg); text-decoration:none;
}
.brand .dot{
  width:.75rem; height:.75rem; border-radius:999px;
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
}
.nav-actions{ display:inline-flex; align-items:center; gap:.5rem; }

/* Thème toggle (icônes soleil/lune animées) */
.theme-toggle{
  display:inline-flex; align-items:center; gap:.45rem; height:38px; padding:.4rem .7rem;
  border:1px solid var(--border); border-radius:12px; background:var(--card); color:var(--fg); cursor:pointer;
  transition: background .18s ease, border-color .18s ease, transform .18s ease, box-shadow .18s ease;
}
.theme-toggle:hover{ background: color-mix(in oklab, var(--fg) 6%, var(--card)); box-shadow: 0 4px 14px rgba(0,0,0,.08); }
.theme-toggle:focus-visible{ outline:none; box-shadow:0 0 0 3px color-mix(in oklab,var(--brand) 45%,transparent); }
:root[data-theme="light"] .theme-toggle{
  background:#fff; border-color:var(--border); box-shadow:0 4px 14px rgba(15,23,42,.06);
}
:root[data-theme="light"] .theme-toggle:hover{
  background: color-mix(in oklab, #fff 90%, var(--brand) 4%);
}
.tt-icon{ display:inline-grid; place-items:center; width:1.2rem; height:1.2rem; }
.icon-sun,.icon-moon{ transition:opacity .25s ease, transform .35s ease; }
.icon-sun{ opacity:0; transform: rotate(-90deg) scale(.9); }
.icon-moon{ opacity:1; transform: rotate(0deg) scale(1); }
:root[data-theme="light"] .icon-sun{ opacity:1; transform: rotate(0deg) scale(1); }
:root[data-theme="light"] .icon-moon{ opacity:0; transform: rotate(90deg) scale(.9); }

/* Burger / menu mobile */
.nav-toggle{
  display:inline-flex; align-items:center; gap:.5rem; height:40px; padding:0 .9rem;
  border:1px solid var(--border); border-radius:12px; background:var(--card); color:var(--fg); font-weight:600;
}
.nav-toggle .chev{ transition:transform .2s ease; }
.nav-toggle[aria-expanded="true"] .chev{ transform:rotate(180deg); }

.nav-collapsible{
  overflow:clip; max-height:0;
  transition:max-height .28s ease, border-color .28s ease, box-shadow .28s ease;
  border-bottom:1px solid transparent;
  background:color-mix(in oklab,var(--bg) 98%, transparent);
  box-shadow:0 0 0 rgba(0,0,0,0);
}
.nav-collapsible.open{
  max-height:60svh; border-color:var(--border); box-shadow:0 10px 22px rgba(0,0,0,.08);
}
.nav-list{ list-style:none; margin:0; padding:.5rem .75rem 1rem; display:grid; gap:.5rem; }
.nav-list a,.nav-list .btn{
  display:block; padding:.9rem 1rem; border-radius:14px; text-decoration:none;
  color:var(--fg); background:var(--card); border:1px solid var(--border);
}
.nav-list a:hover{ border-color:color-mix(in oklab,var(--border),var(--brand) 30%); }
.nav-list .btn.cta{ text-align:center; }

.nav-desktop{ display:none; flex:1 1 auto; min-width:0; }
.nav-inline{
  display:flex; align-items:center; gap:.5rem; white-space:nowrap;
  list-style:none; margin:0; padding:0 .5rem;
}
.chip{
  display:inline-flex; align-items:center; gap:.45rem; line-height:1;
  padding:.45rem .75rem; border:1px solid var(--border); border-radius:12px;
  background:var(--card); color:var(--fg); text-decoration:none; font-weight:500;
  transition:border-color .18s, background .18s, transform .18s;
}
.chip:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--border), var(--brand) 30%); }

@media (min-width:992px){
  .nav-toggle{ display:none; }
  .nav-desktop{ display:block; }
  .nav-actions .theme-toggle{ display:inline-flex; }
  .nav-collapsible{ display:none; }
}

/* ================== 4) Composants ================== */
.card{
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius-2);
  padding: clamp(1rem, 2.6vw, 1.25rem); box-shadow:var(--shadow-1);
}
.card h3{ margin:.2rem 0 .4rem; }

/* Boutons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.55rem;
  min-height:46px; padding:.65rem 1rem; line-height:1;
  border:1px solid var(--border); border-radius:.8rem;
  background:var(--card); color:var(--fg); font-weight:500; cursor:pointer;
  transition:transform .18s, border-color .18s, background .18s, box-shadow .18s;
}
.btn:hover{
  transform: translateY(-1px);
  background:color-mix(in oklab,var(--fg) 6%,var(--card));
  border-color:color-mix(in oklab,var(--fg) 14%,var(--border));
  box-shadow:0 6px 18px rgba(0,0,0,.12);
}
.btn:focus-visible{ outline:none; box-shadow:0 0 0 3px color-mix(in oklab,var(--brand) 40%,transparent); }
.btn.cta{ border:0; background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; font-weight:600; }
.btn--icon{ display:inline-flex; align-items:center; gap:.55rem; }
:root[data-theme="light"] .btn{ background:#fff; border-color:var(--border); }
:root[data-theme="light"] .btn:hover{
  background: color-mix(in oklab, #fff 85%, var(--brand) 5%);
  border-color: color-mix(in oklab, var(--border), var(--brand) 25%);
  box-shadow:0 6px 18px rgba(15,23,42,.08);
}

/* Chips */
.chip{ /* déjà défini plus haut, variantes ici si besoin */ }

/* Pills Talend / Power BI (solides, proches de la charte, sans dégradé) */
.pill{
  display:inline-block;
  padding:.22rem .55rem;
  border-radius:.65rem;
  font-size:.8rem; font-weight:700; line-height:1.25;
  vertical-align:middle; letter-spacing:.01em;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.pill--talend{
  background: var(--pill-talend);
  color: var(--pill-fg);
  border:1px solid var(--pill-border-talend);
}
.pill--powerbi{
  background: var(--pill-powerbi);
  color: var(--pill-fg);
  border:1px solid var(--pill-border-powerbi);
}
.pill--talend:is(:hover,:focus-visible),
.pill--powerbi:is(:hover,:focus-visible){
  filter: brightness(1.05);
  outline:none;
  box-shadow: 0 0 0 3px color-mix(in oklab, currentColor 30%, transparent);
}

/* ================== 5) Sections ================== */
/* HERO */
.hero{ display:grid; grid-template-columns:1fr; gap:1.5rem; align-items:center; }
.hero .actions{ display:flex; gap:.6rem; margin-top:1rem; }
.hero img{ max-width:100%; border-radius:var(--radius-3); border:1px solid var(--border); }
.hero__img{ width:100%; aspect-ratio:16/9; object-fit:cover; border-radius:var(--radius-3); border:1px solid var(--border); }
.hero__viz{
  width:100%; aspect-ratio:16/9; border-radius:var(--radius-3); border:1px solid var(--border);
  background:var(--card); background-image:var(--hero-image); background-size:cover; background-position:50% 50%;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
@media (min-width:900px){ .hero{ grid-template-columns:1.2fr .8fr; } }

/* MÉTHODES (cartes premium alignées) */
.methodes.methodes--modern{
  display:grid; grid-template-columns:1fr;
  gap: clamp(1rem, 2.5vw, 1.5rem); margin-top: clamp(1.5rem, 3vw, 2.5rem);
}
@media (min-width:700px){ .methodes.methodes--modern{ grid-template-columns:repeat(2,1fr); } }
@media (min-width:1100px){ .methodes.methodes--modern{ grid-template-columns:repeat(3,1fr); } }

.methode{
  display:grid;
  grid-template-columns: 2.6rem 1fr; /* col 1 = logo, col 2 = contenu */
  align-items:start; column-gap:1rem; row-gap:.6rem;
  padding:1.5rem; background:var(--card); border:1px solid var(--border);
  border-radius:var(--radius-2); box-shadow:var(--shadow-1);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
@media (hover:hover){
  .methode:hover{ transform:translateY(-6px); border-color:color-mix(in oklab,var(--brand) 35%,var(--border)); box-shadow:0 12px 28px rgba(0,0,0,.35); }
}
.methode-head{ display:contents; }
.methode__icon{
  grid-column:1; grid-row:1;
  width:2.6rem; height:2.6rem; display:grid; place-items:center; border-radius:.9rem;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; font-size:1.2rem;
  box-shadow:0 2px 6px rgba(0,0,0,0.25);
}
.methode__title{
  grid-column:2; grid-row:1; margin:0; align-self:center;
  font-size:1.15rem; font-weight:600; color:var(--fg); line-height:1.3;
}
.methode__line{
  grid-column:1 / -1; display:flex; align-items:center; gap:.4rem;
  font-size:.9rem; color:var(--muted);
}
.methode__note{
  grid-column:1 / -1; margin-top:.7rem; display:flex; align-items:center; gap:.5rem;
  font-size:.9rem; color:var(--muted); text-align:left;
}
.methode__note-icon{ font-size:1rem; line-height:1; color:var(--brand-2); }

/* CERTIFICATIONS — slider mobile → grille desktop (sans “peek”) */
.certs{ padding-block: clamp(2rem,3vw,3.5rem); }
.certs-head{ text-align:center; margin-bottom:1.25rem; }
.certs .h2{ font-size:clamp(1.4rem,2.4vw,1.8rem); margin:0; }

.certs-viewport{
  max-width:min(100vw, 1100px);
  margin-inline:auto;
  overflow:hidden;
}

.certs-rail{
  list-style:none; margin:0; padding:0;
  display:grid;
  grid-auto-flow: column;
  grid-auto-columns: 100%;  /* 1 slide = pleine largeur */
  gap: 0;
  padding: 0;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-padding-inline: 0;
  -webkit-overflow-scrolling: touch;
}
.certs-rail > li{ width:100%; scroll-snap-align: center; }

@media (min-width:900px){
  .certs-viewport{ overflow:visible; }
  .certs-rail{
    grid-auto-flow: row;
    grid-auto-columns: initial;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1.25rem 1.5rem;
    padding: 0;
    overflow: visible;
    scroll-snap-type: none;
  }
  .certs-rail > li{ scroll-snap-align: unset; }
}

/* Carte certification */
.cert-card{
  display:grid; grid-template-columns:56px 1fr; align-items:start;
  column-gap:1.4rem; row-gap:.6rem;
  padding: clamp(1.6rem, 2.6vw, 2.2rem);
  padding-inline: clamp(2rem, 3.5vw, 2.75rem);
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius-2);
  box-shadow:var(--shadow-1);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
@media (hover:hover){
  .cert-card:hover{ transform:translateY(-6px); border-color:color-mix(in oklab,var(--brand) 35%,var(--border)); box-shadow:0 12px 28px rgba(0,0,0,.35); }
}
.cert-badge{
  grid-column:1; grid-row:1;
  display:grid; place-items:center; width:56px; height:56px;
  border-radius:.9rem; background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,0.25);
}
.cert-logo{ width:100%; height:100%; object-fit:contain; }
.cert-body{ grid-column:1 / -1; display:grid; gap:.55rem; }
.cert-title{ margin:0; font-size:1.15rem; font-weight:600; line-height:1.3; }
.cert-issuer{ margin:.1rem 0 0; font-size:.9rem; color:var(--muted); }

/* Ligne statut/date alignée au badge */
.cert-statusline{
  grid-column:2; grid-row:1;
  display:flex; align-items:center; gap:.6rem;
  font-size:1rem; font-weight:600;
}
.cert-chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.35rem .7rem; line-height:1;
  border-radius:999px; font-size:.9rem;
  border:1px solid var(--border); background:var(--card);
}
.cert-chip.chip-ok{ color:var(--brand-2); border-color:color-mix(in oklab,var(--brand-2) 40%,var(--border)); }
.cert-chip.chip-pending{ color:var(--muted); }
.cert-date{ opacity:.9; font-size:.95rem; }

.cert-tags{
  display:flex; flex-wrap:wrap; gap:.5rem;
  list-style:none; margin:.55rem 0 0; padding:0;
}
.cert-tags .tag{
  padding:.35rem .6rem; border-radius:999px;
  background: rgba(148,163,184,.12);
  border:1px solid rgba(148,163,184,.25);
  font-size:.78rem; line-height:1; white-space:nowrap;
}
:root[data-theme="light"] .cert-tags .tag{
  background: color-mix(in oklab, #94a3b8 14%, #fff 90%);
  border:1px solid color-mix(in oklab, #94a3b8 22%, #fff 0%);
  color: color-mix(in oklab, var(--fg) 80%, #000 0%);
}

/* Dots du carousel (mobile uniquement) */
.certs-dots{
  display:flex; justify-content:center; align-items:center;
  gap:.5rem; margin-top:.75rem; padding-bottom:.25rem;
}
.certs-dot{
  -webkit-tap-highlight-color: transparent;
  width:8px; height:8px; border-radius:999px; border:0;
  background: color-mix(in oklab, var(--muted) 55%, transparent);
  opacity:.6; transform: scale(.9);
  transition: transform .2s ease, opacity .2s ease, background .2s ease;
}
.certs-dot:is(:hover,:focus-visible){ opacity:.85; transform: scale(1); outline:none; }
.certs-dot.is-active{ opacity:1; transform: scale(1.2); background: color-mix(in oklab, var(--brand) 60%, #fff 0%); }
@media (min-width:900px){ .certs-dots{ display:none; } }

/* ================== 6) Pages: About ================== */
.about-title{ margin:0; font-size:clamp(1.5rem,2.5vw,2rem); }
.about-sub{ margin:.2rem 0 1rem; color:var(--muted); font-weight:600; }
.about-text{ max-width:720px; text-align:left; margin:0; display:grid; gap:.8rem; }
.about-text p{ margin:.4rem 0; line-height:1.55; }
.about-text .lead{ font-size:1.1rem; color:var(--fg); }

/* Variantes sous-titre */
.about-sub.badge-style{
  display:inline-block; font-weight:700; font-size:1.05rem; padding:.25rem .75rem; border-radius:.7rem;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; margin-bottom:1rem;
}
.about-sub.gradient-style{
  font-weight:800; font-size:1.1rem;
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; margin-bottom:1rem;
}

/* ================== 7) Footer & Modal ================== */
.site-footer{ border-top:1px solid var(--border); padding:2rem 1rem; text-align:center; color:var(--muted); }

.modal{ position:fixed; inset:0; background:color-mix(in oklab,#000 60%,transparent); display:grid; place-items:center; }
.modal[hidden]{ display:none; }
.modal__dialog{
  background:var(--bg); border:1px solid var(--border); border-radius:var(--radius-3);
  width:min(900px,90vw); height:min(80vh,700px); padding:0; overflow:hidden;
}
.modal__close{ position:absolute; margin:.5rem; right:1rem; background:none; color:var(--fg); font-size:1.8rem; border:none; cursor:pointer; }

/* ================== 8) Motion & A11y ================== */
@media (prefers-reduced-motion: reduce){
  .nav-toggle .chev, .nav-collapsible, .btn, .card, .methode, .cert-card,
  .icon-sun, .icon-moon, .theme-toggle { transition: none !important; }
}
